<form [formGroup]="PersonDocumentForm" novalidate id="PersonDocumentForm"
  *ngIf="currentPerson !== null && currentPerson != undefined">
  <div id="personDocument">
    <div id="CustomerDetails" class="customerBox">
      <div class="row panelheader">
        <div class="col col-sm-5 fright">
          <h4>Medisch attest</h4>
          <hr />
        </div>
      </div>
      <div class="row PersonContactContent">
        <div class="col-sm-12">Upload een duidelijke foto/scan of dien aanvraag in.</div>
      </div>
      <div class="row PersonContactContent">
        <div class="col-sm-3">
          <div class="inputWrapper"><span>Upload attest</span><img src="../../../../../assets/svg/CircleUp.svg">
            <input type="file" id="UploadMedicalAttestation" class="fileInput hidden" name="UploadMedicalAttestation"
              (change)="handleMedicalAttestationFileInput($event.target.files)">
          </div>
        </div>
        <div class="col-sm-3"><button class="whitebtn" (click)="onClickPost()" name="btnRequestCertificate" id="btnRequestCertificate"><span>Vraag attest
              aan</span><img src="../../../../../assets/svg/request.svg"></button></div>
      </div>
    </div>
    <div class="row UploadedFiles"
      *ngIf="currentPerson.medicalAttestation !== null && currentPerson.medicalAttestation != undefined">
      <div class="col-sm-5"></div>
      <div class="col-sm-7">
        <!--For loop Starts -->
        <div
          *ngIf="currentPerson.medicalAttestation.name !== undefined && currentPerson.medicalAttestation.name !== null && currentPerson.medicalAttestation.name !== ''"
          class="row inforow">
          <div class="col-sm-1 actioneyebtn">
            <button name="downloadMedicalAttestation" id="downloadMedicalAttestation"
              (click)="downloadMedicalAttestationFile()">
              <img src="../../../../assets/svg/eye_big.svg">
            </button>
          </div>
          <div class="col-sm-10 actioncontent">{{currentPerson.medicalAttestation.name}} </div>
          <div class="col-sm-1 actiondelbtn">
            <button name="deleteMedicalAttestation" id="deleteMedicalAttestation" (click)="deleteMedicalAttestation()">
              <img src="../../../../assets/svg/delete_big.svg">
            </button>
          </div>
        </div>
      </div>
      <!--For loop Ends -->
    </div>
    
    <div id="VCAAttest" class="customerBox">
      <div class="row">
        <div class="col col-sm-8 fleft">
          <h4>VCA attest</h4>
        </div>
        <div class="col col-sm-3">    
            <div class="inputWrapper"><span>Upload</span><img src="../../../../../assets/svg/CircleUp.svg">
              <input type="file" id="UploadVcaAttestation" class="fileInput hidden" name="UploadVcaAttestation"
                (change)="handleVcaAttestationFileInput($event.target.files)">
            </div>
        </div>
      </div>
    </div>
    <div class="row UploadedFiles"
      *ngIf="currentPerson.vcaAttestation !== null && currentPerson.vcaAttestation != undefined">
      <div class="col-sm-5"></div>
      <div class="col-sm-7">
        <!--For loop Starts -->
        <div *ngIf="currentPerson.vcaAttestation.name !== undefined && currentPerson.vcaAttestation.name !== null && currentPerson.vcaAttestation.name !== ''"
          class="row inforow">
          <div class="col-sm-1 actioneyebtn">
            <button name="downloadVcaAttestation" id="downloadVcaAttestation" (click)="downloadVcaAttestationFile()">
              <img src="../../../../assets/svg/eye_big.svg">
            </button>
          </div>
          <div class="col-sm-10 actioncontent">{{currentPerson.vcaAttestation.name}}</div>
          <div class="col-sm-1 actiondelbtn">
            <button name="deleteVcaAttestation" id="deleteVcaAttestation" (click)="deleteVcaAttestation()">
              <img src="../../../../assets/svg/delete_big.svg">
            </button>
          </div>
        </div>
      </div>
      <!--For loop Ends -->
    </div>
    <div class="general">
      <div class="row radiorow">
        <div class="col-sm-12" *ngIf="currentPerson.isConstructionSector === true else switchelseBouwsector">
          <ui-switch size="small" name="isConstructionSector" [checked]="true"
            (change)="onIsConstructionSectorChange($event)"></ui-switch>
          <div class="gap">&nbsp;</div><span class="titleBold">Bouwsector</span>
        </div>
        <ng-template #switchelseBouwsector>      
            <div class="col-sm-12">
                <ui-switch size="small" name="isConstructionSector" [checked]="false"
                (change)="onIsConstructionSectorChange($event)"></ui-switch>
              <div class="gap">&nbsp;</div><span class="titleBold">Bouwsector</span>    
            </div>    
        </ng-template>
      </div>
    </div>
    <div id="BuildingCards" name="BuildingCards" class="customerBox" *ngIf="currentPerson.isConstructionSector===true">
      <div class="row">
        <div class="col col-sm-8 fleft">
          <h4>Bouwkaart(en)</h4>
        </div>
        <div class="col col-sm-3">
            <div class="inputWrapper"><span>Upload</span><img src="../../../../../assets/svg/CircleUp.svg">
              <input type="file" id="UploadConstructionCards" class="fileInput hidden" name="UploadConstructionCards"
                (change)="handleConstructionCardsFileInput($event.target.files)">
            </div>
        </div>
      </div>
    </div>
    <div class="row UploadedFiles"  id="BuildingCardsUploadedFiles" name="BuildingCardsUploadedFiles" *ngIf="currentPerson.isConstructionSector===true" >
      <div class="col-sm-5"></div>
      <div class="col-sm-7">
        <!--For loop Starts -->        
        <div class="row inforow" *ngFor="let constructionCard of currentPerson.constructionCards ; let i = index">        
          <div class="col-sm-1 actioneyebtn">
            <button name="downloadConstructionCard" id="downloadConstructionCard"
              (click)="downloadConstructionCardFile(i)">
              <img src="../../../../assets/svg/eye_big.svg">
            </button>
          </div>
          <div class="col-sm-10 actioncontent">{{constructionCard.name}}
          </div>
          <div class="col-sm-1 actiondelbtn">
            <button name="deleteConstructionCard" id="deleteConstructionCard" (click)="deleteConstructionCard(i)">
              <img src="../../../../assets/svg/delete_big.svg">
            </button>         
        </div>
        </div>
      </div>
      <!--For loop Ends -->
    </div>
    <div class="general">
      <div class="row radiorow">
        <div class="col-sm-12" *ngIf="currentPerson.isStudentAtWork === true else switchelseStudent">
          <ui-switch size="small" name="isStudentAtWork" [checked]="isStudentAtWork"
            (change)="onisStudentAtWorkChange($event)"></ui-switch>
          <div class="gap">&nbsp;</div><span class="titleBold">Student @Work</span>
        </div>
        <ng-template #switchelseStudent>      
            <div class="col-sm-12">
                <ui-switch size="small" name="isStudentAtWork" [checked]="false"
                (change)="onisStudentAtWorkChange($event)"></ui-switch>
              <div class="gap">&nbsp;</div><span class="titleBold">Student @Work</span>    
            </div>    
        </ng-template>
      </div>
    </div>
    <div id="StudentAttest" name="StudentAttest" class="customerBox" *ngIf="currentPerson.isStudentAtWork===true" >
      <div class="row">
        <div class="col col-sm-5 fleft">
          <h4>Student @work attest</h4>
        </div>
        <div class="col col-sm-3">
          <div class="inputWrapper"><span>Upload</span><img src="../../../../../assets/svg/CircleUp.svg">
            <input type="file" id="UploadStudentAtWork" class="fileInput hidden" name="UploadStudentAtWork"
              (change)="handleStudentAtWorkFileInput($event.target.files)">
          </div>
        </div>
       
      </div>
      <div class="row">
        <div class="col col-sm-4 fright">
          <label class="titleBold"> Datum attest: </label>          
          <input formControlName="attestationDate" class="form-control" (change)="updateAttestationDate()" name="attestationDate" id="attestationDate" type="date" />
          
          
        </div>
        <div class="col col-sm-4 fright">
          <label class="titleBold"> Contigent: </label>
          <input formControlName="contingent" class="form-control" (change)="updateContingent()" name="contingent" id="contingent" type="number" />

        </div>

        <div class="col col-sm-4 fright">
          <label class="titleBold"> Resterend saldo: </label>
          <input formControlName="balance" class="form-control" (change)="updateBalance()" name="balance" id="balance" type="number" />

        </div>
      </div>
    </div>

    <!-- download file -->
    <div class="row UploadedFiles" id="StudentAttestUploadedFiles" name="StudentAttestUploadedFiles"  *ngIf="currentPerson.isStudentAtWork===true">
    <div class="col-sm-5"></div>
    <div class="col-sm-7">
      <!--For loop Starts -->
      <div  *ngIf="currentPerson.studentAtWorkProfile.attestation !== undefined && currentPerson.studentAtWorkProfile.attestation">
      <div *ngIf="currentPerson.studentAtWorkProfile.attestation.name !== undefined && currentPerson.studentAtWorkProfile.attestation.name !== null && currentPerson.studentAtWorkProfile.attestation.name !== ''"
        class="row inforow">
        <div class="col-sm-1 actioneyebtn">
          <button name="downloadStudentAtWork" id="downloadStudentAtWork" (click)="downloadStudentAtWorkAttestationFile()">
            <img src="../../../../assets/svg/eye_big.svg">
          </button>
        </div>
        <div class="col-sm-10 actioncontent">{{currentPerson.studentAtWorkProfile.attestation.name}}</div>
        <div class="col-sm-1 actiondelbtn">
          <button name="deleteStudentAtWorkAttestation" id="deleteStudentAtWorkAttestation" (click)="deleteStudentAtWorkAttestationFile()">
            <img src="../../../../assets/svg/delete_big.svg">
          </button>
        </div>
      </div>
    </div>
    </div>
    <!--For loop Ends -->
  </div>
     <!-- download file -->
    <div class="general">
      <div class="row radiorow">
        <div class="col-sm-12" *ngIf="currentPerson.isDriver === true else switchelseChauffeur">
          <ui-switch size="small" name="isDriver" [checked]="isDriver" (change)="onIsDriverChange($event)"></ui-switch>
          <div class="gap">&nbsp;</div><span class="titleBold">Chauffeur / bestuurder</span>
        </div>
        <ng-template #switchelseChauffeur>      
            <div class="col-sm-12">
                <ui-switch size="small" name="isDriver" [checked]="false"
                (change)="onIsDriverChange($event)"></ui-switch>
              <div class="gap">&nbsp;</div><span class="titleBold">Chauffeur / bestuurder</span>    
            </div>    
        </ng-template>
      </div>
    </div>
    <div id="DrivingLicense" name="DrivingLicense" class="customerBox" *ngIf="currentPerson.isDriver===true">
      <div class="row">
        <div class="col col-sm-6 fleft">
          <select class="drivinglicenses selectcomponent" [(ngModel)]='selectedOption' (ngModelChange)='onOptionSelected($event)' id="ddl_drivinglicense" name="ddl_drivinglicense"  [ngModelOptions]="{standalone: true}"  required="">
            <option [value]="vehicle.type"  *ngFor="let vehicle of vehiclesForLicense">{{vehicle.type}}
            </option>
          </select>
        </div>
        <div class="col col-sm-2 fleft"></div>
        <div class="col col-sm-3">
          <div class="inputWrapper"><span>Upload</span><img src="../../../../../assets/svg/CircleUp.svg">
            <input type="file" id="UploadDriversLicense" class="fileInput hidden" name="UploadDriversLicense"
              (change)="handleDriversLicenseFileInput($event.target.files)">
          </div>
        </div>
      </div>
    </div>
    <div class="row UploadedFiles" id="DrivingLicenseUploadedFiles" name="DrivingLicenseUploadedFiles" *ngIf="currentPerson.isDriver===true">
      <div class="col-sm-5"></div>
      <div class="col-sm-7">
        <!--For loop Starts -->
        
        <div class="row inforow" *ngFor="let driverProfile of currentPerson.driverProfiles ; let i = index">
            <div class="row inforow" *ngIf="driverProfile.attestation.name !== undefined && driverProfile.attestation.name !== null && driverProfile.attestation.name !== ''"> 
          <div class="col-sm-1 actioneyebtn">
            <button name="downloadDriversLicense" id="downloadDriversLicense" (click)="downloadDriversLicenseFile(i)">
              <img src="../../../../assets/svg/eye_big.svg">
            </button>
          </div>
          <div class="col-sm-10 actioncontent">{{driverProfile.attestation.name}}</div>
          <div class="col-sm-1 actiondelbtn">
            <button name="deleteDriversLicense" id="deleteDriversLicense" (click)="deleteDriversLicense(i)">
              <img src="../../../../assets/svg/delete_big.svg">
            </button>
          </div>   
           </div> 
        </div>

      </div>
      <!--For loop Ends -->
    </div>
    <div id="OtherDocuments" class="customerBox">
      <div class="row">
        <div class="col col-sm-7 fleft">
          <h4>Andere nuttige documenten</h4>
        </div>
        <div class="col col-sm-4">
          <div class="inputWrapper"><span>Upload</span><img src="../../../../../assets/svg/CircleUp.svg">
            <input type="file" id="UploadOtherDocuments" class="fileInput hidden" name="UploadOtherDocuments"
              (change)="handleOtherDocumentsInput($event.target.files)">
          </div>
        </div>
      </div>
    </div>
    <div class="row UploadedFiles">
      <div class="col-sm-5"></div>
      <div class="col-sm-7">
        <!--For loop Starts -->
        <div class="row inforow" *ngFor="let document of currentPerson.otherDocuments ; let i = index">
             <div class="row inforow" *ngIf="document.name !== undefined && document.name !== null && document.name !== ''"> 
          <div class="col-sm-1 actioneyebtn">
            <button name="downloadOtherDocuments" id="downloadOtherDocuments" (click)="downloadOtherDocumentsFile(i)">
              <img src="../../../../assets/svg/eye_big.svg">
            </button>
          </div>
          <div class="col-sm-10 actioncontent">{{document.name}}</div>
          <div class="col-sm-1 actiondelbtn">
            <button name="deleteOtherDocuments" id="deleteOtherDocuments" (click)="deleteOtherDocuments(i)">
              <img src="../../../../assets/svg/delete_big.svg">
            </button>
          </div>
</div>

        </div>

      </div>

      <!--For loop Ends -->
    </div>
  </div>
</form>